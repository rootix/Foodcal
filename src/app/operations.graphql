query GetMealsOfWeek($from: Date!, $to: Date!, $size: Int!) {
    allMealsInDateRange(from: $from, to: $to, _size: $size) {
        data {
            _id
            _ts
            date
            recipe {
                _id
                name
                url
            }
            type
            notes
        }
    }
}

query GetAllRecipes {
    allRecipesByDeletedFlag(_size: 1000, deleted: false) {
        data {
            _id
            name
            url
            note
            tags
            deleted
            meals(_size: 1000) {
                data {
                    date
                }
            }
        }
    }
}

mutation CreateRecipe(
    $name: String!
    $url: String
    $note: String
    $deleted: Boolean!
    $tags: [String!]
) {
    createRecipe(data: { name: $name, url: $url, note: $note, deleted: $deleted, tags: $tags }) {
        _id
    }
}

mutation UpdateRecipe(
    $id: ID!
    $name: String!
    $url: String
    $note: String
    $deleted: Boolean!
    $tags: [String!]
) {
    updateRecipe(
        id: $id
        data: { name: $name, url: $url, note: $note, deleted: $deleted, tags: $tags }
    ) {
        _ts
    }
}

mutation CreateMeal(
    $date: Date!,
    $type: MealType!,
    $recipe: MealRecipeRelation!,
    $notes: String
) {
    createMeal(data: { date: $date, type: $type, recipe: $recipe, notes: $notes })
    {
        _id
    }
}

mutation UpdateMeal(
    $id: ID!
    $date: Date!
    $type: MealType!
    $recipe: MealRecipeRelation!
    $notes: String
) {
    updateMeal(id: $id, data: { date: $date, type: $type, recipe: $recipe, notes: $notes }) {
        _ts
    }
}

mutation DeleteMeal($id: ID!) {
    deleteMeal(id: $id) {
        _id
    }
}
