<button nz-button nzType="primary" (click)="createDish.emit()" style="margin-bottom: 1rem">
    <i nz-icon nzType="plus"></i>
    Neue Speise
</button>

<nz-table [nzData]="dishes" [nzLoading]="loading" nzSize="small" [nzScroll]="{ x: '100' }">
    <thead>
        <tr>
            <th
                [nzSortOrder]="'ascend'"
                [nzSortFn]="sortByName"
                nzWidth="25rem"
                [nzSortDirections]="['ascend', 'descend']"
            >
                Name
            </th>
            <th [nzSortFn]="sortByLastPreparation" nzWidth="12.5rem">Letzte Zubereitung</th>
            <th nzWidth="5.625rem"></th>
        </tr>
    </thead>
    <tbody>
        @for (dish of dishTable?.data || []; track dish.id) {
            <tr>
                <td>
                    @if (dish.url) {
                        <a href="{{ dish.url }}" target="_blank">
                            {{ dish.name }}
                        </a>
                    }
                    @if (!dish.url) {
                        <span>{{ dish.name }}</span>
                    }
                </td>
                <td>{{ dish.last_preparation | date }}</td>
                <td>
                    <button nz-button nzType="text" (click)="editDish.emit(dish)">
                        <i nz-icon nzType="edit" nzTheme="twotone" nzTwotoneColor="#0072a3"></i>
                    </button>
                    <button nz-button nzType="text" (click)="deleteDish.emit(dish)">
                        <i nz-icon nzType="delete" [nzTheme]="'twotone'" [nzTwotoneColor]="'#f00'"></i>
                    </button>
                </td>
            </tr>
        }
    </tbody>
</nz-table>
